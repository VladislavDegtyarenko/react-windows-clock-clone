import{r as a}from"./react.e158b38e.js";import{j as e,a as h,C as T,A as F}from"./AlarmApp.jsx.16154191.js";import{P as j,b as A,F as D,g as H}from"./@fluentui.dcb38d1f.js";let y;const E=a.exports.createContext(null),tt=_=>{const[i,n]=a.exports.useState(0),[p,d]=a.exports.useState(!1),[S,b]=a.exports.useState([]),o=100,g=()=>{y=setInterval(()=>{n(s=>s+o)},o)};a.exports.useEffect(()=>p?(g(),()=>clearInterval(y)):(d(!1),clearInterval(y),()=>clearInterval(y)),[p]);const r=()=>{d(s=>!s)},$=()=>{d(!1),n(0),b([])},C=()=>{b(s=>[...s,{id:s.length+1,total:i,time:s.length>0?i-s[s.length-1].total:i}])},m=()=>{console.log("Fullscreen Feature. Soon!")},u=s=>{const M=Math.floor(s/1e3/60/60),P=Math.floor(s/1e3/60%60),t=Math.floor(s/1e3%60),l=s/100%10,x=f(M),v=f(P),w=f(t);return`${x}:${v}:${w}.${l}`},f=s=>s<10?"0"+s:s,N={time:i,isRunning:p,flags:S,actions:{toggleStartStopwatch:r,resetStopwatch:$,addFlag:C,fullscreen:m,formatTime:u}};return e(E.Provider,{value:N,children:_.children})},k="_digits_tq8mc_1",W="_helper_tq8mc_47";var I={digits:k,"digits--not-running":"_digits--not-running_tq8mc_23",helper:W};function q({time:_=0,isRunning:i,helpers:n=!1}){const p=o=>{const g=Math.floor(o/1e3/60/60),r=Math.floor(o/1e3/60%60),$=Math.floor(o/1e3%60),C=o/100%10,m=d(g),u=d(r),f=d($);return`${m}:${u}:${f}.${C}`},d=o=>o<10?"0"+o:o,[S,b]=p(_).split(".");return h("h4",{className:`${I.digits} ${i?"":I["digits--not-running"]}`,style:{paddingBottom:n?".25em":""},children:[h("span",{children:[S,n&&h("span",{className:I.helper,children:[e("span",{children:"hr"}),e("span",{children:"min"}),e("span",{children:"sec"})]})]}),".",e("span",{children:b})]})}const z="_stopwatch_1u0f7_1",L="_stopwatch__main_1u0f7_17",B="_stopwatch__inner_1u0f7_33",O="_table_1u0f7_41",K="_row_1u0f7_55",G="_record_1u0f7_91",J="_stopwatch__digits_1u0f7_135",Q="_stopwatch__controls_1u0f7_155";var c={stopwatch:z,stopwatch__main:L,stopwatch__inner:B,table:O,row:K,"table--header":"_table--header_1u0f7_71","table--content":"_table--content_1u0f7_79",record:G,stopwatch__digits:J,stopwatch__controls:Q};function U({stopwatch:{time:_,isRunning:i,flags:n,actions:{toggleStartStopwatch:p,resetStopwatch:d,addFlag:S,fullscreen:b,formatTime:o}}}){var M,P;const g=a.exports.useRef();a.exports.useEffect(()=>{if(n&&n.length>0){const t=g.current;t.scrollTop=-t.scrollHeight}},[n]);const r=n&&n.length>1&&n.reduce((t,l)=>{var x,v,w,R;return t.min=l.time<((x=t.min)==null?void 0:x.time)?l:(v=t.min)!=null?v:l,t.max=l.time>((w=t.max)==null?void 0:w.time)?l:(R=t.max)!=null?R:l,t},{min:void 0,max:void 0}),$=(M=r==null?void 0:r.max)==null?void 0:M.id,C=(P=r==null?void 0:r.min)==null?void 0:P.id,m=a.exports.useRef(),u=a.exports.useRef(),[f,N]=a.exports.useState(1);a.exports.useEffect(()=>(s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)),[]);const s=()=>{const t=m.current.offsetWidth,l=m.current.offsetHeight,x=u.current.offsetWidth,v=u.current.offsetHeight;let w=Math.min(x/t,v/l).toFixed(2);N(w>1?1:w)};return h("div",{className:c.stopwatch,children:[e("div",{className:c.stopwatch__main,ref:u,children:h("div",{className:c.stopwatch__inner,ref:m,style:{transform:`scale(${f})`},children:[e("div",{className:c.stopwatch__digits,children:e(q,{time:_,helpers:!0,isRunning:i})}),h("div",{className:c.stopwatch__controls,children:[e(T,{onClick:t=>{t.stopPropagation(),p()},icon:i?e(j,{}):e(A,{}),appearance:"primary",shape:"circular"}),e(T,{onClick:t=>{t.stopPropagation(),S()},icon:e(D,{}),shape:"circular",disabled:!i}),e(T,{onClick:t=>{t.stopPropagation(),d()},icon:e(H,{}),shape:"circular",disabled:_===0})]})]})}),n&&n.length>0&&h("div",{className:c.table,children:[h("div",{className:`${c.row} ${c["table--header"]}`,children:[e("div",{children:"Laps"}),e("div",{children:"Time"}),e("div",{children:"Total"})]}),e("div",{className:c["table--content"],ref:g,children:n.map(t=>h("div",{className:c.row,children:[h("div",{children:[t.id,n.length>1&&$===t.id?e("span",{className:c.record,children:"Slowest"}):C===t.id?e("span",{className:c.record,children:"Fastest"}):null]}),e("div",{children:o(t.time)}),e("div",{children:o(t.total)})]},t.id))})]})]})}function V(){const _=a.exports.useContext(E);return e(F,{motionDivKey:"stopwatch",children:e(U,{stopwatch:_})})}var et=Object.freeze(Object.defineProperty({__proto__:null,default:V},Symbol.toStringTag,{value:"Module"}));export{q as D,tt as S,et as a};
